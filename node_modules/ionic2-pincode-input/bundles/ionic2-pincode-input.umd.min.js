!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("ionic-angular"),require("ionic-angular/util/util"),require("@angular/common")):"function"==typeof define&&define.amd?define("ionic2-pincode-input",["exports","@angular/core","ionic-angular","ionic-angular/util/util","@angular/common"],n):n(o["ionic2-pincode-input"]={},o.ng.core,o.ionicAngular,o.util,o.ng.common)}(this,function(o,n,l,e,i){"use strict";var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i])};var r=function(){function o(o,n,i,t,e,c,r){this._viewCtrl=o,this._elementRef=n,this._renderer=c,this._plt=r,this.stateExpression="off",this.codeArr=[],this.maxLen=6,this.gestureBlocker=t.createBlocker(l.BLOCK_ALL),this.d=e.data,this.d.passSize&&(this.maxLen=this.d.passSize),this.codeArr=new Array(this.maxLen),this.codeArr.fill(null),this.mode=i.get("mode"),c.addClass(n.nativeElement,"pincode-"+this.mode),this.d.cssClass&&this.d.cssClass.split(" ").forEach(function(o){""!==o.trim()&&c.addClass(n.nativeElement,o)})}return o.prototype.ionViewDidLoad=function(){this.stateExpression="on"},o.prototype.ionViewWillEnter=function(){this.gestureBlocker.block()},o.prototype.ionViewDidLeave=function(){this._plt.focusOutActiveElement(),this.gestureBlocker.unblock()},o.prototype.ionViewWillLeave=function(){this._plt.focusOutActiveElement()},o.prototype.ionViewDidEnter=function(){this._plt.focusOutActiveElement(),this.enabled=!0},o.prototype.numClick=function(o){var n=this;if(!(o<0||9<o)){var i=this.codeArr.indexOf(null);i<this.maxLen-1?this.codeArr[i]=o:i===this.maxLen-1&&(this.codeArr[i]=o,this.d.pinHandler?this.d.pinHandler(this.getValues()).then(function(){n.dismiss("done")})["catch"](function(){n.restoreClick()}):this.dismiss("done"))}},o.prototype.delClick=function(){for(var o=this.codeArr.length-1;-1<o;o--)if(null!==this.codeArr[o]){this.codeArr[o]=null;break}},o.prototype.restoreClick=function(){this.codeArr=new Array(this.maxLen),this.codeArr.fill(null)},o.prototype.btnClick=function(o){if(this.enabled){this.lastClick=Date.now();var n=!0;o.handler&&!1===o.handler(this.getValues())&&(n=!1),n&&this.dismiss(o.role)["catch"](function(){console.debug("alert can not be dismissed")})}},o.prototype.isNum=function(o){return!!e.isNumber(o)&&(o<=9||0<=o)},o.prototype.bdClick=function(){this.enabled&&this.d.enableBackdropDismiss&&this.dismiss("backdrop")},o.prototype.cancelClick=function(){this.dismiss("cancel")},o.prototype.forgotClick=function(){this.dismiss("forgot")},o.prototype.dismiss=function(o){this.stateExpression="off";return this._viewCtrl.dismiss(this.getValues(),o,{minClickBlockDuration:400})},o.prototype.getValues=function(){return this.d.encoded(this.codeArr.join(""))},o.prototype.ngOnDestroy=function(){e.assert(!1===this.gestureBlocker.blocked,"gesture blocker must be already unblocked"),this.gestureBlocker.destroy()},o}();r.decorators=[{type:n.Component,args:[{selector:"ion-pincode",animations:[n.trigger("openClose",[n.state("off, void",n.style({bottom:"-295px"})),n.state("on",n.style({bottom:"0"})),n.transition("on <=> off",[n.animate("400ms cubic-bezier(.36,.66,.04,1)")])])],template:'\n        <ion-backdrop (click)="bdClick()" [class.backdrop-no-tappable]="!d.enableBackdropDismiss"></ion-backdrop>\n        <div class="pincode-wrapper"\n             [class.hide-toolbar]="d.hideToolbar"\n             [@openClose]="stateExpression">\n            <div class="pincode-toolbar" *ngIf="!d.hideToolbar">\n                <button *ngIf="!d.hideCancelButton" ion-button clear (click)="cancelClick()">{{d.cancelButtonText}}\n                </button>\n                <div class="pincode-title">{{d.title}}</div>\n                <button *ngIf="!d.hideForgotPassword" ion-button clear small class="r-btn" (click)="forgotClick()">\n                    {{d.forgotPasswordText}}\n                </button>\n            </div>\n            <div class="pincode-input">\n                <ion-grid class="pincode-input-grid">\n                    <ion-row class="pincode-input-row">\n                        <ion-col *ngFor="let item of codeArr; let i = index">\n                            <span *ngIf="!d.visibility || (!isNum(codeArr[i]))" class="obscured" [class.filling]="isNum(codeArr[i])"></span>\n                            <span *ngIf="d.visibility" class="code">{{item}}</span>\n                        </ion-col>\n                    </ion-row>\n                </ion-grid>\n            </div>\n            <div class="pincode-button-wrapper">\n                <ion-grid>\n                    <ion-row>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(1)">1</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(2)">2</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(3)">3</button>\n                        </ion-col>\n                    </ion-row>\n                    <ion-row>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(4)">4</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(5)">5</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(6)">6</button>\n                        </ion-col>\n                    </ion-row>\n                    <ion-row>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(7)">7</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(8)">8</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(9)">9</button>\n                        </ion-col>\n                    </ion-row>\n                    <ion-row>\n                        <ion-col>\n                            <button ion-button color="light" icon-only (click)="restoreClick()">\n                                <ion-icon ios="ios-refresh" name="md-refresh"></ion-icon>\n                            </button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" (click)="numClick(0)">0</button>\n                        </ion-col>\n                        <ion-col>\n                            <button ion-button color="light" icon-only (click)="delClick()">\n                                <ion-icon ios="ios-backspace" name="md-backspace"></ion-icon>\n                            </button>\n                        </ion-col>\n                    </ion-row>\n                </ion-grid>\n            </div>\n        </div>\n    ',styles:["ion-pincode .pincode-wrapper{z-index:10;position:absolute;bottom:0;left:0;right:0;display:block;overflow:hidden;width:100%;max-width:500px;height:295px;margin:auto;background-color:#fcfcfc;border-top:1px solid #c8c7cc;contain:content}ion-pincode .pincode-wrapper.hide-toolbar{height:251px}ion-pincode .pincode-wrapper .button-md{height:4.6rem;font-size:1.8rem;color:#212121}ion-pincode .pincode-md .pincode-wrapper,ion-pincode .pincode-wp .pincode-wrapper{background-color:#fff}ion-pincode .pincode-toolbar{z-index:1;width:100%;contain:strict;display:block;height:44px;border-bottom:.55px solid #c8c7cc;background:#fff}ion-pincode .pincode-toolbar button{margin:0;height:44px;background:0 0;z-index:1}ion-pincode .pincode-toolbar .r-btn{float:right;text-align:left;font-size:12px;text-transform:none;font-weight:400}ion-pincode .pincode-toolbar .pincode-title{text-align:center;width:100%;line-height:44px;position:absolute;left:0;right:0;top:0;bottom:0}ion-pincode .pincode-md .pincode-toolbar,ion-pincode .pincode-wp .pincode-toolbar{border-bottom:none}ion-pincode .pincode-input{margin:16px}ion-pincode .pincode-input .pincode-input-grid{border:1px solid #e4e4e4}ion-pincode .pincode-input .pincode-input-row{text-align:center}ion-pincode .pincode-input .pincode-input-row ion-col{border-left:1px solid #e4e4e4;height:32px;line-height:32px;padding:0;text-align:center}ion-pincode .pincode-input .pincode-input-row ion-col:nth-child(1){border-left:0}ion-pincode .pincode-input .pincode-input-row ion-col span.obscured{width:1em;height:1em;border-radius:1em;display:inline-block;background-color:#eee}ion-pincode .pincode-input .pincode-input-row ion-col span.obscured.filling{background-color:#333}ion-pincode .pincode-input .pincode-input-row ion-col span.code{font-size:1.2em}ion-pincode .pincode-button-wrapper{position:absolute;width:100%;bottom:0}ion-pincode .pincode-button-wrapper .grid,ion-pincode .pincode-button-wrapper ion-col{padding:0}ion-pincode .pincode-button-wrapper ion-col button{border:none;margin:0;width:100%;background-color:#fff;color:#000;-webkit-box-shadow:none;box-shadow:none;border-radius:0}"],host:{role:"dialog","[attr.aria-labelledby]":"hdrId","[attr.aria-describedby]":"descId"},encapsulation:n.ViewEncapsulation.None}]}],r.ctorParameters=function(){return[{type:l.ViewController},{type:n.ElementRef},{type:l.Config},{type:l.GestureController},{type:l.NavParams},{type:n.Renderer2},{type:l.Platform}]};var t=function(t){function o(o,n){void 0===n&&(n={});var i=this;return n.enableBackdropDismiss=!e.isPresent(n.enableBackdropDismiss)||!!n.enableBackdropDismiss,n.hideForgotPassword=!!e.isPresent(n.hideForgotPassword)&&!!n.hideForgotPassword,n.hideCancelButton=!!e.isPresent(n.hideCancelButton)&&!!n.hideCancelButton,n.encoded=e.isFunction(n.encoded)?n.encoded:function(o){return o},n.title=n.title||"Password",n.cancelButtonText=n.cancelButtonText||"cancel",n.forgotPasswordText=n.forgotPasswordText||"forgot password",n.passSize=n.passSize||6,(i=t.call(this,r,n,null)||this)._app=o,i.isOverlay=!0,i}return function(o,n){function i(){this.constructor=o}c(o,n),o.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}(o,t),o.prototype.getTransitionName=function(o){var n="back"===o?"alertLeave":"alertEnter";return this._nav&&this._nav.config.get(n)},o.prototype.setTitle=function(o){this.data.title=o},o.prototype.setCssClass=function(o){this.data.cssClass=o},o.prototype.present=function(o){return void 0===o&&(o={}),o.minClickBlockDuration=o.minClickBlockDuration||400,this._app.present(this,o)},o}(l.ViewController),s=function(){function o(o){this._app=o}return o.prototype.create=function(o){return void 0===o&&(o={}),new t(this._app,o)},o}();s.decorators=[{type:n.Injectable}],s.ctorParameters=function(){return[{type:l.App}]};var d=function(){};d.decorators=[{type:n.NgModule,args:[{imports:[l.IonicModule,i.CommonModule],declarations:[r],providers:[s],entryComponents:[r]}]}],d.ctorParameters=function(){return[]},o.PinCode=t,o.PincodeController=s,o.PincodeCmp=r,o.PincodeInputModule=d,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=ionic2-pincode-input.umd.min.js.map
